<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LARUSSO –¢–µ—Å—Ç –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ 2-3 —Ä–∞–Ω–≥</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0; padding: 0;
      font-family: 'Rubik', sans-serif;
      background: linear-gradient(to right, #1f2937, #111827);
      color: #fff;
      display: flex; align-items: center; justify-content: center;
      min-height: 100vh;
    }
    .card {
      background-color: #1c1f26;
      padding: 40px;
      max-width: 750px;
      width: 95%;
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.4);
      position: relative;
    }
    .logo {
      display: block;
      margin: 0 auto 25px;
      max-width: 160px;
      border-radius: 50%;
      border: 3px solid #10b981;
    }
    h1 {
      text-align: center;
      font-size: 28px;
      margin-bottom: 30px;
      color: #10b981;
    }
    label {
      font-weight: 600;
      display: block;
      margin-bottom: 8px;
    }
    input[type="text"] {
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #4b5563;
      background-color: #111827;
      color: #e5e7eb;
      font-size: 15px;
      margin-bottom: 5px;
    }
    input::placeholder {
      color: #9ca3af;
    }
    .error {
      color: #f87171;
      font-size: 13px;
      margin: 4px 0 15px;
      min-height: 18px;
    }
    .radio-group {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 15px;
    }
    .radio-label {
      flex: 1 1 calc(50% - 12px);
      background-color: #111827;
      padding: 14px 20px;
      border-radius: 12px;
      border: 2px solid #4b5563;
      cursor: pointer;
      position: relative;
      transition: background-color 0.3s ease, border-color 0.3s ease;
      user-select: none;
      color: #e5e7eb;
      font-weight: 500;
    }
    .radio-label:hover {
      border-color: #10b981;
      background-color: #172022;
    }
    .radio-label input[type="radio"] {
      position: absolute;
      opacity: 0;
      cursor: pointer;
      margin: 0; height: 0; width: 0;
    }
    .radio-label input[type="radio"]:checked + span {
      background-color: #10b981;
      color: white;
      border-radius: 10px;
      padding: 6px 12px;
      font-weight: 600;
      display: inline-block;
      transition: background-color 0.3s ease;
    }
    button[type="submit"], .retry-btn {
      margin-top: 30px;
      width: 100%;
      padding: 14px;
      background-color: #10b981;
      color: #fff;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    button[type="submit"]:hover, .retry-btn:hover {
      background-color: #0f9f77;
    }
    .retry-btn {
      background-color: #ef4444;
      margin-top: 20px;
      display: none;
    }
    .result {
      margin-top: 25px;
      padding: 20px;
      background-color: #065f46;
      border-radius: 12px;
      text-align: center;
      font-size: 18px;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
      display: none;
      color: #fff;
    }
    .result.show {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }
    .result strong {
      font-size: 20px;
      color: #fff;
    }
    label[for="musicSelect"] {
      margin-top: 20px;
      color: #10b981;
      font-weight: 600;
      display: block;
    }
    .music-toggle {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background-color: #10b981;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      z-index: 9999;
      box-shadow: 0 4px 8px rgba(16, 185, 129, 0.4);
      transition: background-color 0.3s ease, transform 0.2s ease;
      user-select: none;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .music-toggle:hover {
      background-color: #0f9f77;
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <div class="card">
    <img src="logo.png" alt="LARUSSO Logo" class="logo" />
    <h1>–¢–µ—Å—Ç –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ<br>—Å 2 –Ω–∞ 3 —Ä–∞–Ω–≥<br>LARUSSO Family</h1>

    <form id="quizForm" novalidate>
      <label for="name">–í–∞—à –Ω–∏–∫:</label>
      <input type="text" id="name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Family_Larusso" />
      <div class="error" id="errorName"></div>

      <div id="questionsContainer"></div>

      <label for="musicSelect">–í—ã–±–µ—Ä–∏—Ç–µ –º—É–∑—ã–∫—É:</label>
      <select id="musicSelect">
        <option value="cala_bonita.m4a">Cala Bonita</option>
        <option value="clack_bum.m4a">Clack bum</option>
        <option value="hope.mp3">Hope</option>
        <option value="bala_love.m4a">Bala love</option>
        <option value="Montagem_r.m4a">Montagem R</option>
        <option value="PASSO_BEM_SOLTO_Ultra_Slowed.m4a">PASSO BEM SOLTO</option>
        <option value="Montagem_Bandido_S.m4a">Montagem Bandido S</option>
        <option value="bloody_ultra_slowed.m4a">BLOODY ULTRA SLOWED</option>
      </select>

      <button type="submit">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    </form>

    <div class="result" id="resultBox"></div>
    <button class="retry-btn" id="retryBtn">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
  </div>

  <audio id="bgMusic" loop></audio>

  <button class="music-toggle" id="musicToggleBtn">
    <span id="musicIcon">üîá</span> <span id="musicText">–í–∫–ª</span>
  </button>

  <script>
    const questions = [
      {
        id: 'q1',
        text: '1. –ò–º–µ–µ—Ç –ª–∏ –º–ª–∞–¥—à–∏–π —Å–æ—Å—Ç–∞–≤ –ø—Ä–∞–≤–æ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–º–∏–π –∏–ª–∏ –∞—Ä–µ–Ω–¥—É –∏–º—É—â–µ—Å—Ç–≤–∞?',
        correct: '—Å_—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è_–≥–ª–∞–≤—ã',
        options: [
          {value: '–Ω–µ—Ç', label: '–ù–µ—Ç, —Ç–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω—ã'},
          {value: '–≤—Å–µ–º', label: '–ú–æ–∂–Ω–æ –≤—Å–µ–º –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π'},
          {value: '–≤_–ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–∏_–≥–ª–∞–≤—ã', label: '–ú–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–∏ –≥–ª–∞–≤—ã'},
          {value: '—Å_—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è_—Å—Ç–∞—Ä—à–∏—Ö', label: '–ú–æ–∂–Ω–æ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ª—é–±–æ–≥–æ –∏–∑ —Å—Ç–∞—Ä—à–∏—Ö'},
          {value: '—Å_—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è_–≥–ª–∞–≤—ã', label: '–ú–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≥–ª–∞–≤—ã —Å–µ–º—å–∏'}
        ]
      },
      {
        id: 'q2',
        text: '2. –ö–æ–º—É –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è –º–ª–∞–¥—à–∏–π —Å–æ—Å—Ç–∞–≤ —Å–µ–º—å–∏?',
        correct: '–º–∞—Å—Ç–µ—Ä–∞–º',
        options: [
          {value: '–Ω–∏–∫–æ–º—É', label: '–ù–∏–∫–æ–º—É –Ω–µ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è'},
          {value: '–≥–ª–∞–≤–µ_–Ω–∞–ø—Ä—è–º—É—é', label: '–¢–æ–ª—å–∫–æ –≥–ª–∞–≤–µ —Å–µ–º—å–∏ –Ω–∞–ø—Ä—è–º—É—é'},
          {value: '—á–µ—Ä–Ω–æ–º—É_–ø–æ—è—Å—É', label: '–ß–ª–µ–Ω–∞–º —Å —Ä–∞–Ω–≥–æ–º ‚Äú–ß—ë—Ä–Ω—ã–π –ø–æ—è—Å‚Äù (5 —Ä–∞–Ω–≥)'},
          {value: '–ª—é–±–æ–º—É_—Å—Ç–∞—Ä—à–µ–º—É', label: '–õ—é–±–æ–º—É —Å—Ç–∞—Ä—à–µ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É'},
          {value: '–º–∞—Å—Ç–µ—Ä–∞–º', label: '–ú–∞—Å—Ç–µ—Ä–∞–º —Å–µ–º—å–∏ (7 —Ä–∞–Ω–≥)'}
        ]
      },
      {
        id: 'q3',
        text: '3. –ö–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –æ–±—è–∑–∞–Ω —Å–æ–±–ª—é–¥–∞—Ç—å –∫–∞–∂–¥—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ —Å–µ–º—å–∏?',
        correct: '–≤—Å–µ_–ø—Ä–∞–≤–∏–ª–∞',
        options: [
          {value: '—É—Å—Ç–∞–≤_—Å–µ–º—å–∏', label: '–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–µ–º—å–∏'},
          {value: '–ø—Ä–∞–≤–∏–ª–∞_–ø—Ä–æ–µ–∫—Ç–∞', label: '–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞'},
          {value: '–ø—Ä–∞–≤–∏–ª–∞_—Å–µ—Ä–≤–µ—Ä–∞', label: '–û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–µ—Ä–≤–µ—Ä–∞'},
          {value: '–ø—Ä–∏–∫–∞–∑—ã_–≥–ª–∞–≤—ã', label: '–¢–æ–ª—å–∫–æ –ø—Ä–∏–∫–∞–∑—ã –≥–ª–∞–≤—ã'},
          {value: '–≤—Å–µ_–ø—Ä–∞–≤–∏–ª–∞', label: '–í—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ'}
        ]
      },
      {
        id: 'q4',
        text: '4. –ò–º–µ–µ—Ç –ª–∏ –ø—Ä–∞–≤–æ –º–ª–∞–¥—à–∏–π —Å–æ—Å—Ç–∞–≤ –æ–±–∂–∞–ª–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞?',
        correct: 'tg_—Ç–µ–º–∞',
        options: [
          {value: '–Ω–µ—Ç', label: '–ù–µ—Ç, –º–∞—Å—Ç–µ—Ä –≤—Å–µ–≥–¥–∞ –ø—Ä–∞–≤'},
          {value: '—á–µ—Ä–µ–∑_–∏–≥—Ä—É', label: '–î–∞, –Ω–æ —Ç–æ–ª—å–∫–æ –≤ –∏–≥—Ä–µ —á–µ—Ä–µ–∑ /report'},
          {value: 'tg_—Ç–µ–º–∞', label: '–î–∞, –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Ç–µ–º–µ Telegram-–∫–∞–Ω–∞–ª–∞'},
          {value: '–∑–∞–ø—Ä–µ—â–µ–Ω–æ', label: '–ù–µ—Ç, —ç—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º–∏'},
          {value: '–ø–æ—Å–ª–µ_3_—Ä–∞–Ω–≥–∞', label: '–ú–æ–∂–Ω–æ, –Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ 3 —Ä–∞–Ω–≥–∞'}
        ]
      },
      {
        id: 'q5',
        text: '5. –í –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–ª–∞–¥—à–∏–π —Å–æ—Å—Ç–∞–≤ –º–æ–∂–µ—Ç –Ω–µ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Å–±–æ—Ä–∞—Ö –∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö?',
        correct: ['—É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–∞—è_–ø—Ä–∏—á–∏–Ω–∞', '–∑–∞–ø—Ä–µ—â–µ–Ω–æ_–ø—Ä–æ–ø—É—Å–∫–∞—Ç—å'],
        options: [
          {value: '—É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–∞—è_–ø—Ä–∏—á–∏–Ω–∞', label: '–ï—Å–ª–∏ –µ—Å—Ç—å —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞'},
          {value: '–Ω–µ–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ', label: '–ï—Å–ª–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –Ω–µ–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ'},
          {value: '–º–µ–Ω—å—à–µ_30_–º–∏–Ω—É—Ç', label: '–ï—Å–ª–∏ –±—ã–ª –æ–Ω–ª–∞–π–Ω –º–µ–Ω–µ–µ 30 –º–∏–Ω—É—Ç'},
          {value: '–∑–∞–ø—Ä–µ—â–µ–Ω–æ_–ø—Ä–æ–ø—É—Å–∫–∞—Ç—å', label: '–ï—Å–ª–∏ —É—á–∞—Å—Ç–∏–µ —É–∫–∞–∑–∞–Ω–æ –≤ —Ä–∞—Å–ø–æ—Ä—è–¥–∫–µ –¥–Ω—è ‚Äî –ø—Ä–æ–ø—É—Å–∫ –∑–∞–ø—Ä–µ—â—ë–Ω'},
          {value: '–Ω–µ_–ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏–ª', label: '–ï—Å–ª–∏ –Ω–µ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏–ª, –Ω–æ –Ω–µ –ø—Ä–∏—à—ë–ª ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ'}
        ],
        multiple: true
      }
    ];

    // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è
    function shuffleArray(arr) {
      let array = arr.slice();
      for (let i = array.length -1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i+1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function renderQuestions() {
      const container = document.getElementById('questionsContainer');
      container.innerHTML = '';

      questions.forEach(q => {
        const qDiv = document.createElement('div');
        qDiv.style.marginBottom = '20px';

        const label = document.createElement('label');
        label.textContent = q.text;
        label.style.fontWeight = '600';
        qDiv.appendChild(label);

        if (q.multiple) {
          // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä - —á–µ–∫–±–æ–∫—Å—ã
          const groupDiv = document.createElement('div');
          groupDiv.className = 'checkbox-group';
          groupDiv.style.marginTop = '8px';

          const shuffledOptions = shuffleArray(q.options);

          shuffledOptions.forEach(opt => {
            const labelEl = document.createElement('label');
            labelEl.className = 'radio-label';
            labelEl.style.flex = '1 1 45%';
            labelEl.style.backgroundColor = '#111827';
            labelEl.style.border = '2px solid #4b5563';
            labelEl.style.marginBottom = '10px';

            const input = document.createElement('input');
            input.type = 'checkbox';
            input.name = q.id;
            input.value = opt.value;

            const span = document.createElement('span');
            span.textContent = opt.label;

            labelEl.appendChild(input);
            labelEl.appendChild(span);
            groupDiv.appendChild(labelEl);
          });

          qDiv.appendChild(groupDiv);
        } else {
          // –û–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä - —Ä–∞–¥–∏–æ –∫–Ω–æ–ø–∫–∏
          const groupDiv = document.createElement('div');
          groupDiv.className = 'radio-group';
          groupDiv.style.marginTop = '8px';

          const shuffledOptions = shuffleArray(q.options);

          shuffledOptions.forEach(opt => {
            const labelEl = document.createElement('label');
            labelEl.className = 'radio-label';

            const input = document.createElement('input');
            input.type = 'radio';
            input.name = q.id;
            input.value = opt.value;

            const span = document.createElement('span');
            span.textContent = opt.label;

            labelEl.appendChild(input);
            labelEl.appendChild(span);
            groupDiv.appendChild(labelEl);
          });

          qDiv.appendChild(groupDiv);
        }

        // –û—à–∏–±–∫–∞
        const errorDiv = document.createElement('div');
        errorDiv.className = 'error';
        errorDiv.id = 'error-' + q.id;
        qDiv.appendChild(errorDiv);

        container.appendChild(qDiv);
      });
    }

    function validate() {
      let valid = true;
      const nick = document.getElementById('name').value.trim();
      const errorName = document.getElementById('errorName');
      if (!nick) {
        errorName.textContent = '–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫';
        valid = false;
      } else {
        errorName.textContent = '';
      }

      questions.forEach(q => {
        const errorEl = document.getElementById('error-' + q.id);

        if (q.multiple) {
          const checkedBoxes = [...document.querySelectorAll(`input[name="${q.id}"]:checked`)];
          if (checkedBoxes.length < 2) {
            errorEl.textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –º–∏–Ω–∏–º—É–º –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞';
            valid = false;
          } else {
            errorEl.textContent = '';
          }
        } else {
          const checkedRadio = document.querySelector(`input[name="${q.id}"]:checked`);
          if (!checkedRadio) {
            errorEl.textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç';
            valid = false;
          } else {
            errorEl.textContent = '';
          }
        }
      });

      return valid;
    }

    function calculateScore() {
      let score = 0;

      questions.forEach(q => {
        if (q.multiple) {
          const checkedBoxes = [...document.querySelectorAll(`input[name="${q.id}"]:checked`)].map(i => i.value);
          // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å–µ –ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤—ã–±—Ä–∞–Ω—ã –∏ –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ –Ω–µ—Ç
          const correctSet = new Set(q.correct);
          const checkedSet = new Set(checkedBoxes);

          // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤
          if (checkedSet.size === correctSet.size && [...correctSet].every(x => checkedSet.has(x))) {
            score += 2; // –ø–æ 2 –±–∞–ª–ª–∞ –∑–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å
          }
        } else {
          const checkedRadio = document.querySelector(`input[name="${q.id}"]:checked`);
          if (checkedRadio && checkedRadio.value === q.correct) {
            score += 1;
          }
        }
      });

      return score;
    }

    const quizForm = document.getElementById('quizForm');
    const resultBox = document.getElementById('resultBox');
    const retryBtn = document.getElementById('retryBtn');

    quizForm.addEventListener('submit', e => {
      e.preventDefault();

      if (!validate()) return;

      const nick = document.getElementById('name').value.trim();
      const score = calculateScore();

      const maxScore = 1*4 + 2; // 4 –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –ø–æ 1 –±–∞–ª–ª—É + 1 –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞ 2 –±–∞–ª–ª–∞ = 6

      let resText = `<strong>${nick}</strong><br>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score} –∏–∑ ${maxScore}<br><br>`;

      if (score === maxScore) {
        resText += 'üéâ –û—Ç–ª–∏—á–Ω–æ! –í—ã –≥–æ—Ç–æ–≤—ã –∫ –ø–æ–≤—ã—à–µ–Ω–∏—é.<br><br>üì∏ <em>–°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω –¥–ª—è –æ—Ç—á—ë—Ç–∞</em>';
        retryBtn.style.display = 'none';
      }
else {
        resText += 'üîÅ –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.';
        retryBtn.style.display = 'block';
      }

      resultBox.innerHTML = resText;
      resultBox.classList.add('show');
      quizForm.style.display = 'none';
    });

    retryBtn.addEventListener('click', () => {
      quizForm.reset();
      renderQuestions();
      resultBox.classList.remove('show');
      retryBtn.style.display = 'none';
      quizForm.style.display = 'block';
      document.getElementById('errorName').textContent = '';
      questions.forEach(q => {
        document.getElementById('error-' + q.id).textContent = '';
      });
    });

    // –ú—É–∑—ã–∫–∞
    const bgMusic = document.getElementById('bgMusic');
    const musicSelect = document.getElementById('musicSelect');
    const musicToggleBtn = document.getElementById('musicToggleBtn');
    const musicIcon = document.getElementById('musicIcon');
    const musicText = document.getElementById('musicText');
    let isPlaying = false;

    function toggleMusic() {
      if (isPlaying) {
        bgMusic.pause();
        musicIcon.textContent = 'üîá';
        musicText.textContent = '–í–∫–ª';
      } else {
        bgMusic.play().catch(() => {
          alert('–ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–π—Ç–µ —Å —Å–∞–π—Ç–æ–º (–Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –µ—â—ë —Ä–∞–∑)');
        });
        musicIcon.textContent = 'üîä';
        musicText.textContent = '–í—ã–∫–ª';
      }
      isPlaying = !isPlaying;
    }

    musicToggleBtn.addEventListener('click', toggleMusic);

    musicSelect.addEventListener('change', () => {
      bgMusic.src = musicSelect.value;
      bgMusic.load();
      if (isPlaying) {
        bgMusic.play().catch(() => {});
      }
    });

    window.addEventListener('DOMContentLoaded', () => {
      bgMusic.src = musicSelect.value;
      renderQuestions();
    });
  </script>
</body>
</html>